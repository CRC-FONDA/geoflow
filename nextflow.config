params {
	input_cube = [
		'/data/Dagobah/dc/deu/ard/X0068_Y0035/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0035/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0035/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0036/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0036/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0036/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0036/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0064_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0065_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0037/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0063_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0064_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0065_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0038/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0063_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0064_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0065_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0039/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0063_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0064_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0065_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0040/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0064_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0065_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0041/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0066_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0042/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0043/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0073_Y0044/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0067_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0068_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0073_Y0045/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0046/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0046/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0046/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0046/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0073_Y0046/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0069_Y0047/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0070_Y0047/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0071_Y0047/*{BOA,QAI}.tif',
		'/data/Dagobah/dc/deu/ard/X0072_Y0047/*{BOA,QAI}.tif'
	]

    lucas_survey = "/data/Dagobah/fonda/shk/geoflow/experiment/lucas/lucas_harmo_uf_2018.csv"
	lucas_geom = "/data/Dagobah/fonda/shk/geoflow/experiment/lucas/lucas_geom.gpkg"
	lucas_subset_dir = "/data/Dagobah/fonda/shk/geoflow/experiment"

	final_outDir = "/data/Dagobah/fonda/shk/geoflow/experiment/classification"

	publish_lucas_subset = true
    lucas_query = "nuts0 == 'DE' and year == 2018 and lc1 not in ['8', 'A22', 'A30', 'F40', 'E30', 'B55', 'G21', 'G22'] and obs_direct == 'On the point' and ((((obs_type == 'In situ < 100 m' and obs_dist <= 30) or obs_type in ['In office PI', 'In situ PI']) and lc1_perc in ['50 - 75 %', '> 75 %'] and parcel_area_ha in ['0.5 - 1 ha', '1 - 10 ha', '> 10 ha']) or (lc1 in ['B70', 'B71', 'B72', 'B73', 'B74', 'B75', 'B76', 'B77', 'B80', 'B81', 'B82', 'B83', 'B84'] and obs_dist <= 30 and obs_type == 'In situ < 100 m' and lc1_perc in ['10 - 25 %', '25 - 50 %', '50 - 75 %', '> 75 %']) or (lc1 in ['A10', 'A11', 'A12', 'A13', 'A20', 'A21', 'A22', 'A30'] and obs_type in ['In situ < 100 m', 'In situ > 100 m', 'In situ PI', 'In office PI']))"
	lucas_epsg = 3035

	processing_timeframe = [
		"START": '20200101',
		"END":	 '20201231'
	]

	// Time frames for which STMs should get generated. Currently, they must be exclusive as an item in a channel cannot be passed onto multiple output channels
	// format: [start, end] with the date format being "YYYYMMDD"
	stm_timeframes = [
		['20200101', '20201231'],
	    ['20200101', '20200630'],
		['20200701', '20201231'],
		['20200401', '20200930']
	]

	// Uncomment every QA-flag, that should be filtered (apart from the last one, which always needs to be uncommented)
	quality_flags = [
		"NODATA",
		"CLOUD_BUFF",
		"CLOUD_OPAQUE",
		"CLOUD_CIRRUS",
		"CLOUD_SHADOW",
		"SNOW",
		//"WATER",
		//"AEROSOL_INTERPOLATED",
		//"AEROSOL_HIGH",
		//"AEROSOL_FILL",
		"SUBZERO",
		"SATURATION",
		//"HIGH_ZENITH",
		//"ILLUMINATION_MEDIUM",
		//"ILLUMINATION_POOR",
		//"ILLUMINATION_SHADOW",
		//"SLOPE",
		//"WATER_VAPOR",
		"EMPTY"
	]

	quality_cat = quality_flags.join(" ")

	// list would work just fine, but to have the same type, I'm using a Map as well.
    // TODO Would probably be better to adjust Sentinel/Landsat band descriptions
    // TODO use this Map for Indices Workflow as well (and rename & reposition it)

	// all indices available by AwesomeSpectralIndices are supported
    spectral_indices_mapping= [
        "NDVI":         "NDVI",
        "EVI":          "EVI",
        "NBR":          "NBR",
        "NDTI":         "NDTI",
        "ARVI":         "ARVI",
        "SAVI":         "SAVI",
        "SARVI":        "SARVI",
		"NDWI":			"NDWI"

    ]

	stm_band_mapping_sentinel = [
		"BLUE":     "BOA-01",
		"GREEN":    "BOA-02",
		"RED":      "BOA-03",
		"RE1":      "BOA-04",
		"RE2":      "BOA-05",
		"RE3":      "BOA-06",
		"BNIR":     "BOA-07",
		"NIR":      "BOA-08",
		"SWIR1":    "BOA-09",
		"SWIR2":    "BOA-10"
	]

	stm_band_mapping_landsat = [
        "BLUE":     "BOA-01",
        "GREEN":    "BOA-02",
        "RED":      "BOA-03",
        "NIR":      "BOA-04",
        "SWIR1":    "BOA-05",
        "SWIR2":    "BOA-06"
	]

    // for a list of all possible aggregation functions, see:
    // https://enmap-box.readthedocs.io/en/latest/usr_section/usr_manual/processing_algorithms/raster_analysis/aggregate_raster_layer_bands.html
	calculate_stms = [
		"MEAN":		0,
		"STD":		1,
		"VAR":		2,
		"MIN":		3,
		"MEDIAN":	4,
		"MAX":		5,
		"SUM":		6,
		"PRODUCT":	7,
		"RANGE":	8,
		"IQR":		9,
		"P05":		19,
		"P25":		39,
		"P75":		89,
		"P95":		109
	]
}

process {
	container = 'floriankaterndahl/geoflow:latest'
	executor = 'local'
}

docker {
	enabled = true
	remove = true
	temp = 'auto'
	fixOwnership = true
	runOptions = '-u $(id -u):$(id -g)'
}

executor {
	name = 'local'
	cpus = 10 
	memory = '200 GB'
}

